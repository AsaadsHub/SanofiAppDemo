{"version":3,"sources":["api/authProvider.js","pages/Loading.jsx","pages/Login.jsx","api/base.js","pages/Home.jsx","pages/ChangePreferences.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["config","auth","authority","clientId","redirectUri","window","location","origin","cache","cacheLocation","storeAuthStateInCookie","system","loggerOptions","loggerCallback","level","message","containsPii","msal","Error","console","error","Info","info","Verbose","debug","Warning","warn","log","authRequest","scopes","MSALObj","handleRedirectPromise","a","login","loginRedirect","getUserName","username","currentAccounts","getAllAccounts","length","getAccessToken","currentAccount","getAccountByUsername","silentRequest","account","forceRefresh","acquireTokenSilent","catch","name","acquireTokenRedirect","logout","logoutRequest","useStyles","makeStyles","theme","root","height","alignItems","display","box","padding","marginBottom","marginLeft","marginRight","centerBox","justifyContent","Loading","classes","className","Box","component","CircularProgress","Login","props","useEffect","e","err","Swal","fire","response","data","history","push","handleLogin","axios","interceptors","request","use","token","extendedConfig","headers","Authorization","accessToken","Object","assign","Promise","reject","defaults","baseURL","process","Endpoint","get","_","update","post","logo","position","margin","width","marginTop","right","Home","alt","src","IconButton","onClick","size","variant","color","m","Button","fullWidth","Link","to","initialState","languages","undefined","preferences","devices","loading","reducer","state","action","type","payload","leftBox","form","centerForm","child","title","checkBox","ChangePreferences","useReducer","dispatch","then","map","device","id","devicePreferences","deviceId","notifyDevice","model","fetchData","enableReinitialize","initialValues","notifyMobileDevices","user","userPreferences","notifyEmail","languageId","onSubmit","values","setSubmitting","result","isSubmitting","displayName","CheckboxWithLabel","Label","label","FormControl","InputLabel","children","labelId","value","Select","language","index","MenuItem","description","replace","mt","disabled","NotFound","style","isLoading","PrivateRoute","isAuthenticated","rest","render","React","createElement","pathname","from","PublicRoute","MainApp","withRouter","match","path","url","exact","App","tokenValue","getToken","Fragment","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7c76b89.chunk.js","sourcesContent":["import * as msal from \"@azure/msal-browser\";\r\nconst config = {\r\n    auth: {\r\n        authority: 'https://login.microsoftonline.com/8bfe0e10-3213-49c3-ba07-719dee9fd10b/',\r\n        clientId: 'a2ffb130-5fe6-4588-90e8-a33a5c9d2a44',\r\n        redirectUri: window.location.origin\r\n    },\r\n    cache: {\r\n        cacheLocation: \"localStorage\",\r\n        storeAuthStateInCookie: true\r\n    },\r\n    system: {\r\n        loggerOptions: {\r\n            loggerCallback: (level, message, containsPii) => {\r\n                if (containsPii) {\r\n                    return;\r\n                }\r\n                switch (level) {\r\n                    case msal.LogLevel.Error:\r\n                        console.error(message);\r\n                        return;\r\n                    case msal.LogLevel.Info:\r\n                        console.info(message);\r\n                        return;\r\n                    case msal.LogLevel.Verbose:\r\n                        console.debug(message);\r\n                        return;\r\n                    case msal.LogLevel.Warning:\r\n                        console.warn(message);\r\n                        return;\r\n                    default:\r\n                        console.log(message)\r\n                        return\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nconst authRequest = {\r\n    scopes: [\r\n        'https://notificationpreferences.azurewebsites.net/user_impersonation',\r\n        'User.Read'\r\n    ]\r\n}\r\n\r\nconst MSALObj = new msal.PublicClientApplication(config);\r\nexport default MSALObj\r\n\r\nwindow.MSALObj = MSALObj\r\n\r\nexport const handleRedirectPromise = async ()=>{\r\n    return MSALObj.handleRedirectPromise()\r\n}\r\n\r\n\r\n\r\nexport const login = async ()=>{\r\n    return MSALObj.loginRedirect(authRequest)\r\n}\r\n\r\nconst getUserName = ()=>{\r\n    let username;\r\n    const currentAccounts = MSALObj.getAllAccounts();\r\n    if (currentAccounts === null) {\r\n        return null;\r\n    } else if (currentAccounts.length > 1) {\r\n        //TODO:\r\n        console.warn(\"Multiple accounts detected.\");\r\n        return null\r\n    } else if (currentAccounts.length === 1) {\r\n        username = currentAccounts[0].username;\r\n    }\r\n\r\n    return username\r\n}\r\n\r\nexport const getAccessToken = async ()=>{\r\n    const username = getUserName()\r\n    if(!username) return \r\n    var currentAccount = MSALObj.getAccountByUsername(username);\r\n    var silentRequest = {\r\n        ...authRequest,\r\n        account: currentAccount,\r\n        forceRefresh: false\r\n    };\r\n\r\n    return await MSALObj.acquireTokenSilent(silentRequest).catch(async (error) => {\r\n        if (error.name === \"InteractionRequiredAuthError\") {\r\n            // fallback to interaction when silent call fails\r\n            return await MSALObj.acquireTokenRedirect(authRequest)\r\n        }\r\n    });\r\n}\r\n\r\nexport const logout = () =>{\r\n    const username = getUserName()\r\n\r\n    const logoutRequest = {\r\n        account: MSALObj.getAccountByUsername(username),\r\n        redirectUri: window.location.origin,\r\n        // postLogoutRedirectUri: window.location.origin,\r\n    };\r\n\r\n    MSALObj.logout(logoutRequest);\r\n}\r\n","import React from 'react'\r\nimport {Box, CircularProgress} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: \"100vh\",\r\n        alignItems: \"center\",\r\n        display: \"grid\"\r\n    },\r\n    box: {\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        padding: 3,\r\n        marginBottom: \"15px\",\r\n        marginLeft: \"10%\",\r\n        marginRight: \"10%\",\r\n    },\r\n    centerBox: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}));\r\n\r\nexport default function Loading(){\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n            <Box\r\n                component=\"div\"\r\n                className={`${classes.centerBox} ${classes.box}`}\r\n            >\r\n                <CircularProgress />\r\n            </Box>\r\n        </div>\r\n    )\r\n}","import * as React from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport {useEffect} from \"react\";\r\nimport {login} from \"../api/authProvider\";\r\nimport Loading from \"./Loading\";\r\n\r\n\r\nfunction Login (props){\r\n    useEffect(() => {\r\n        const handleLogin = async (e) => {\r\n            const token = await login().catch(err => {\r\n                //something went wrong, please try again\r\n                Swal.fire('something went wrong', err.response ? err.response.data : err.message, 'error')\r\n            })\r\n            if(token){\r\n                props.history.push(\"/\")\r\n            }\r\n        }\r\n        handleLogin();\r\n    }, []);\r\n\r\n    return (\r\n        <Loading />\r\n    )\r\n}\r\n\r\nexport default Login;","import axios from \"axios\";\r\nimport {getAccessToken} from './authProvider'\r\n\r\nexport const baseURL = process.env.REACT_APP_BASE_URL;\r\n\r\naxios.interceptors.request.use(async (config) => {\r\n  const token = await getAccessToken().catch(e => { console.log(e) })\r\n  const extendedConfig = {\r\n    headers: { Authorization: `Bearer ${token?.accessToken}` }\r\n  }\r\n  return Object.assign({}, config, extendedConfig);\r\n}, function (error) {\r\n  return Promise.reject(error);\r\n});\r\naxios.defaults.baseURL = baseURL\r\n\r\nexport const Endpoint = {\r\n  Languages: {\r\n    get: _ => axios.get(`languages`)\r\n  },\r\n  Preferences: {\r\n    get: _ => axios.get(`preferences`),\r\n    update: data => axios.post(`preferences`, data)\r\n  }\r\n}","import * as React from \"react\";\r\nimport {Box, Button, IconButton} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\nimport { Link } from 'react-router-dom'\r\nimport {Endpoint} from \"../api/base\";\r\nimport {logout} from \"../api/authProvider\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport {useEffect} from \"react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    logo: {\r\n        position: \"absolute\",\r\n        margin: \"8px\",\r\n        padding: \"3px\",\r\n        width: \"50px\",\r\n        height: \"50px\"\r\n    },\r\n    logout: {\r\n        position: \"absolute\",\r\n        margin: \"12px\",\r\n        marginTop: \"20px\",\r\n        padding: \"3px\",\r\n        right: \"8px\"\r\n    },\r\n    root: {\r\n        height: \"100vh\",\r\n        alignItems: \"center\",\r\n        display: \"grid\"\r\n    },\r\n    box: {\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        padding: 3,\r\n        marginBottom: \"15px\",\r\n        marginLeft: \"10%\",\r\n        marginRight: \"10%\",\r\n    },\r\n    centerBox: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}));\r\n\r\n\r\nfunction Home (){\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <img className={classes.logo} alt=\"logo\" src=\"./logo512.png\"/>\r\n            <IconButton  onClick={() => logout()} className={classes.logout} size=\"small\" variant=\"contained\" color=\"secondary\">\r\n                <ExitToAppIcon />\r\n            </IconButton>\r\n            <div className={classes.root}>\r\n                <div>\r\n                    <Box\r\n                        component=\"div\"\r\n                        m={1}\r\n                        className={`${classes.centerBox} ${classes.box}`}\r\n                    >\r\n                        <Button size=\"large\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                            Change Your Password\r\n                        </Button>\r\n                    </Box>\r\n                    <Box\r\n                        component=\"div\"\r\n                        m={1}\r\n                        className={`${classes.centerBox} ${classes.box}`}\r\n                    >\r\n                        <Button size=\"large\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                            Reset Your Password\r\n                        </Button>\r\n                    </Box>\r\n                    <Box\r\n                        component=\"div\"\r\n                        m={1}\r\n                        className={`${classes.centerBox} ${classes.box}`}\r\n                    >\r\n                        <Button component={Link} to=\"/app/changePreferences\" size=\"large\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                            Change Your Preferences\r\n                        </Button>\r\n                    </Box>\r\n                </div>\r\n            </div>\r\n        </>\r\n)\r\n}\r\n\r\nexport default Home;","import * as React from \"react\";\r\nimport {Box, Button, FormControl, IconButton, InputLabel, MenuItem} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport Swal from \"sweetalert2\";\r\nimport {logout} from \"../api/authProvider\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport {useEffect, useReducer} from \"react\";\r\nimport {Endpoint} from \"../api/base\";\r\nimport Loading from \"./Loading\";\r\nimport { CheckboxWithLabel, Select } from \"formik-material-ui\";\r\n\r\n\r\nconst initialState = {languages: undefined, preferences: undefined, devices: undefined, loading: true}\r\nfunction reducer (state, action)  {\r\n    switch(action.type) {\r\n        case 'setLanguages':\r\n            return {...state, languages: action.payload}\r\n        case 'setPreferences':\r\n            return {...state, preferences: action.payload}\r\n        case 'setDevices':\r\n            return {...state, devices: action.payload}\r\n        case 'setLoading':\r\n            return {...state, loading: action.payload}\r\n        default:\r\n            throw new Error(\"Something went wrong!\")\r\n    }\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    logo: {\r\n        width: \"50px\",\r\n        height: \"50px\"\r\n    },\r\n    logout: {\r\n        position: \"absolute\",\r\n        margin: \"12px\",\r\n        padding: \"3px\",\r\n        right: \"8px\"\r\n    },\r\n    box: {\r\n        height: \"auto\",\r\n        display: \"flex\",\r\n        padding: 3,\r\n        marginBottom: \"15px\"\r\n    },\r\n    leftBox: {\r\n        alignItems: \"center\"\r\n    },\r\n    form: {\r\n        height: \"auto\",\r\n        display: \"grid\",\r\n        padding: 3,\r\n        marginBottom: \"15px\",\r\n        marginLeft: \"15%\",\r\n        marginRight: \"15%\"\r\n    },\r\n    centerForm: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    child: {\r\n        marginLeft: \"20px\",\r\n    },\r\n    centerBox: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    title: {\r\n        margin: 0\r\n    },\r\n    checkBox: {\r\n        margin: 0\r\n    },\r\n}));\r\n\r\nfunction ChangePreferences (props){\r\n    const [state, dispatch] = useReducer(reducer, initialState, undefined)\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            Endpoint.Preferences.get().then(response => {\r\n                dispatch({ type: 'setLoading', payload: false });\r\n                dispatch({ type: 'setPreferences', payload: response.data })\r\n                let devices = response.data.devices.map(device => ({\r\n                    id:device.devicePreferences.deviceId,\r\n                    notifyDevice:device.devicePreferences.notifyDevice,\r\n                    model:device.model,\r\n                }));\r\n                dispatch({ type: 'setDevices', payload: devices });\r\n            }).catch(err => {\r\n                dispatch({ type: 'setLoading', payload: false });\r\n                Swal.fire('something went wrong', err.response ? err.response.data : err.message, 'error')\r\n            });\r\n            Endpoint.Languages.get().then(response => {\r\n                dispatch({ type: 'setLanguages', payload: response.data })\r\n            }).catch(err => {\r\n                Swal.fire('something went wrong', err.response ? err.response.data : err.message, 'error')\r\n            });\r\n        };\r\n        fetchData()\r\n    }, []);\r\n\r\n    const handleSubmit = (values, { setSubmitting }) => {\r\n        let preferences = {\r\n            ...values,\r\n            devices: values.devices.map(device => ({\r\n                id: device.id,\r\n                notifyDevice: device.notifyDevice\r\n            }))\r\n        };\r\n        Endpoint.Preferences.update(preferences).then(response => {\r\n            setSubmitting(false);\r\n            Swal.fire('Your preferences have been saved successfully').then((result) => {\r\n                props.history.push(`/app/`);\r\n            });\r\n        }).catch(err => {\r\n            setSubmitting(false);\r\n            Swal.fire('something went wrong', err.response ? err.response.data : err.message, 'error')\r\n        });\r\n    }\r\n\r\n    return (\r\n        !state.loading ?\r\n        <>\r\n            <IconButton  onClick={() => logout()} className={classes.logout}  variant=\"contained\" color=\"secondary\">\r\n                <ExitToAppIcon />\r\n            </IconButton>\r\n            <Box\r\n                component=\"div\"\r\n                m={1}\r\n                className={`${classes.leftBox} ${classes.box}`}\r\n            >\r\n                <img className={classes.logo} alt=\"logo\" src=\"./logo512.png\"/>\r\n            </Box>\r\n            <Box\r\n                component=\"div\"\r\n                m={1}\r\n                className={`${classes.leftBox} ${classes.box}`}\r\n            >\r\n                <Button component={Link} to=\"/\"  size=\"small\" variant=\"contained\" color=\"secondary\">\r\n                    <ArrowBackIcon />\r\n                </Button>\r\n            </Box>\r\n\r\n            <Formik\r\n                enableReinitialize\r\n                initialValues={{\r\n                    notifyMobileDevices: state.preferences?.user.userPreferences.notifyMobileDevices,\r\n                    notifyEmail: state.preferences?.user.userPreferences.notifyEmail,\r\n                    languageId: state.preferences?.user.userPreferences.languageId,\r\n                    devices: state.devices,\r\n                }}\r\n                onSubmit={handleSubmit}\r\n\r\n            >\r\n                {({values, isSubmitting}) => (\r\n                    <Form>\r\n                        <div>\r\n                            <div className={`${classes.centerForm} ${classes.form}`}>\r\n                                <Box\r\n                                    component=\"div\"\r\n                                    m={1}\r\n                                    className={`${classes.leftBox} ${classes.box}`}\r\n                                >\r\n                                    <h3 className={classes.title}>\r\n                                        {state.preferences?.user.displayName} Preferences\r\n                                    </h3>\r\n                                </Box>\r\n                                <Box\r\n                                    component=\"div\"\r\n                                    className={`${classes.leftBox} ${classes.box}`}\r\n                                >\r\n                                    <Field\r\n                                        type=\"checkbox\"\r\n                                        className={classes.child}\r\n                                        component={CheckboxWithLabel}\r\n                                        name=\"notifyMobileDevices\"\r\n                                        Label={{\r\n                                            label: \"Mobile Devices\",\r\n                                        }}\r\n                                    />\r\n                                    <Field\r\n                                        type=\"checkbox\"\r\n                                        className={classes.child}\r\n                                        component={CheckboxWithLabel}\r\n                                        name=\"notifyEmail\"\r\n                                        Label={{\r\n                                            label: \"Email\",\r\n                                        }}\r\n                                    />\r\n                                </Box>\r\n                                <Box\r\n                                    component=\"div\"\r\n                                    className={`${classes.leftBox} ${classes.box}`}\r\n                                >\r\n                                    <FormControl className={classes.child} fullWidth variant=\"outlined\">\r\n                                        <InputLabel>\r\n                                            Language\r\n                                        </InputLabel>\r\n                                        <Field\r\n                                            children={{labelId:\"languageId\"}}\r\n                                            type=\"select\"\r\n                                            value={values.languageId ?? \"\"}\r\n                                            component={Select}\r\n                                            name=\"languageId\"\r\n                                        >\r\n                                            {state.languages?.map((language, index) => (\r\n                                                <MenuItem key={index} value={language.languageId}>\r\n                                                    {language.description.replace(/_/g, \" \")}\r\n                                                </MenuItem>\r\n                                            ))}\r\n                                        </Field>\r\n                                    </FormControl>\r\n                                </Box>\r\n                                <Box\r\n                                    component=\"div\"\r\n                                    m={1}\r\n                                    mt={4}\r\n                                    className={`${classes.leftBox} ${classes.box}`}\r\n                                >\r\n                                    <h3 className={classes.title}>\r\n                                        Devices\r\n                                    </h3>\r\n                                </Box>\r\n                                {values.devices?.map((device, index) => (\r\n                                    <Box\r\n                                        key={index}\r\n                                        component=\"div\"\r\n                                        className={`${classes.leftBox} ${classes.box} ${classes.checkBox}`}\r\n                                    >\r\n                                        <Field\r\n                                            type=\"checkbox\"\r\n                                            className={classes.child}\r\n                                            name={`devices.${index}.notifyDevice`}\r\n                                            component={CheckboxWithLabel}\r\n                                            Label={{ label: device.model }}\r\n                                        />\r\n                                    </Box>\r\n                                ))}\r\n                                <Box\r\n                                    component=\"div\"\r\n                                    m={1}\r\n                                    className={`${classes.centerBox} ${classes.box}`}\r\n                                >\r\n                                    <Button type=\"submit\" variant=\"contained\" color=\"primary\" disabled={isSubmitting}>\r\n                                        Save\r\n                                    </Button>\r\n                                </Box>\r\n                            </div>\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </> : <Loading />\r\n    )\r\n}\r\n\r\nexport default ChangePreferences;","import * as React from \"react\";\r\n\r\n function NotFound () {\r\n    return (\r\n        <h1 style={{justifyContent: \"center\", display: \"flex\"}}>404: Page not found</h1>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import './App.css';\nimport React, {useEffect, useReducer} from \"react\";\nimport {Route, Switch, Redirect, HashRouter, withRouter} from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Home from \"./pages/Home\";\nimport ChangePreferences from \"./pages/ChangePreferences\";\nimport {getAccessToken, handleRedirectPromise} from \"./api/authProvider\";\nimport Loading from \"./pages/Loading\";\nimport NotFound from \"./pages/NotFound\";\n\nconst initialState = {token: null, isLoading: true}\nfunction reducer (state, action)  {\n    switch(action.type) {\n        case 'setToken':\n            return {...state, token: action.payload}\n        case 'setIsLoading':\n            return {...state, isLoading: action.payload}\n        default:\n            throw new Error(\"Something went wrong!\")\n    }\n}\n\nfunction App() {\n    const [state, dispatch] = useReducer(reducer, initialState, undefined)\n    useEffect(() => {\n        const getToken = async () => {\n            let tokenValue = await handleRedirectPromise().catch(e => { console.log(e) })\n\n            if (!state.token){\n                tokenValue = await getAccessToken().catch(e => { console.log(e) })\n            }\n            dispatch({ type: 'setToken', payload: tokenValue })\n            dispatch({ type: 'setIsLoading', payload: false })\n        }\n        getToken();\n    }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n    return(\n        <React.Fragment>\n            { state.isLoading ? <Loading />:\n                <HashRouter>\n                    <Switch>\n                        <Route exact path=\"/\" render={() => <Redirect to=\"/app\" />} />\n                        <PrivateRoute path=\"/app\" component={MainApp} isAuthenticated={!!state.token} />\n                        <PublicRoute path=\"/login\" component={Login} isAuthenticated={!!state.token} />\n                        <Route component={NotFound} />\n                    </Switch>\n                </HashRouter>\n            }\n        </React.Fragment>\n    );\n}\n\nconst PrivateRoute = ({ component, isAuthenticated, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                isAuthenticated ? (\n                    React.createElement(component, props)\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: {\n                                from: props.location,\n                            },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nconst PublicRoute = ({ component, isAuthenticated,  ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                isAuthenticated ? (\n                    <Redirect\n                        to={{\n                            pathname: \"/\",\n                        }}\n                    />\n                ) : (\n                    React.createElement(component, props)\n                )\n            }\n        />\n    );\n}\n\nconst MainApp = withRouter(({match}) => {\n    return (\n        <Switch>\n            <Route path={`${match.url}/`} exact component={Home} />\n            <Route path={`${match.url}/changePreferences`} component={ChangePreferences} />\n            <Route component={NotFound} />\n        </Switch>\n    );\n})\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}